<div class="index-page">
    <div class="index-banner">
        <h2 class="text-center">All Game Worlds</h2>
    </div>
  <div class="d-flex btn-map-add">
    <a href='#map' class="text-center added-btn m-4 btn btn-ghost">Map ðŸ—º</a>
    <%= link_to "+ Add World", new_game_world_path, class: "text-center added-btn m-4 btn btn-ghost" %>
  </div>
  <%= render '/shared/game_worlds_cards' %>

  <div class="container mb-4 mt-4">
  <div class="row d-flex justify-content-center">
    <h2 style="text-align: center;" class="mb-4">Locations of our game worlds!</h2>
    <div class="col-8">
      <div id="mapboxgl-show" class="d-flex">
        <div id="map" style="width: 1000px; height: 400px; border-radius: 8px;"
          data-controller="map"
          data-map-markers-value="<%= @markers.to_json %>"
          data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
          </div>
        </div>
      </div>
    </div>
  </div><br>
</div>

<script>
  mapboxgl.accessToken = ENV['MAPBOX_API_KEY'];
  const map = new mapboxgl.Map({
  container: 'map', // container ID
    style: 'mapbox://styles/mapbox/streets-v11', // style URL
    center: [-74.5, 40], // starting position [lng, lat]
    zoom: 9, // starting zoom
    projection: 'globe' // display the map as a 3D globe
  });
  map.on('style.load', () => {
    map.setFog({}); // Set the default atmosphere style
  });
</script>
